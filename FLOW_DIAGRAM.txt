â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                  COMPLETE FLOW: OD PORTFELA DO TRANSAKCJI            â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ FAZA 1: TWORZENIE PORTFELA (5 minut)                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    ALICE
      â”‚
      â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ tt_priv_cli    â”‚
  â”‚ wallet init    â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”œâ”€â–º HasÅ‚o â†’ Argon2id â†’ Klucz deszyfrowania
           â”‚
           â”œâ”€â–º Generator losowy â†’ 256 bitÃ³w entropii
           â”‚
           â”œâ”€â–º Falcon512 keygen â†’ (sk, pk)
           â”‚
           â”œâ”€â–º Kyber768 keygen â†’ (sk_enc, pk_enc)
           â”‚
           â”œâ”€â–º XChaCha20-Poly1305 â†’ wallet.enc (ENCRYPTED)
           â”‚
           â””â”€â–º Output:
               âœ… Adres: tt1qxy3v4w5...
               âœ… Plik: ~/.tt_wallet/wallet.enc
               ğŸ’° Saldo: 0 TT


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ FAZA 2: URUCHOMIENIE NODE (Genesis allocation)                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    ALICE
      â”‚
      â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ tt_node start  â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”œâ”€â–º Genesis validator:
           â”‚   â€¢ Stake: 10,000,000 TT
           â”‚   â€¢ Trust: 0.5 (init)
           â”‚   â€¢ Weight: (2/3)Ã—0.5 + (1/3)Ã—1.0 = 0.667
           â”‚
           â”œâ”€â–º Network:
           â”‚   â€¢ Bind 0.0.0.0:8333
           â”‚   â€¢ Listen for peers
           â”‚
           â”œâ”€â–º PoT Consensus:
           â”‚   â€¢ Lambda (Î»): 0.5
           â”‚   â€¢ Min bond: 1,000,000 TT âœ… (Alice ma 10M)
           â”‚   â€¢ RANDAO beacon: genesis_seed
           â”‚
           â””â”€â–º Mining loop start (co 5 sekund)


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ FAZA 3: KOPANIE PIERWSZEGO BLOKU (Slot 0)                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    MINING TICK
        â”‚
        â”œâ”€â–º 1. RANDAO beacon
        â”‚      beacon = KMAC256("RANDAO.slot.v1", epoch || slot || seed)
        â”‚      = 0xe4d2f8a1...
        â”‚
        â”œâ”€â–º 2. Eligibility hash
        â”‚      elig = KMAC256("ELIG.v1", beacon || slot || alice_id)
        â”‚      = 123,456,789
        â”‚
        â”œâ”€â–º 3. Threshold (TWÃ“J MODEL!)
        â”‚      weight = (2/3)Ã—trust + (1/3)Ã—stake
        â”‚             = (2/3)Ã—0.5 + (1/3)Ã—1.0 = 0.667
        â”‚      threshold = Î» Ã— (weight / Î£weights)
        â”‚               = 0.5 Ã— (0.667 / 0.667) = 0.5
        â”‚      bound = 9,223,372,036,854,775,808
        â”‚
        â”œâ”€â–º 4. Win check
        â”‚      123,456,789 < 9,223,372,036,854,775,808? âœ… YES!
        â”‚
        â”œâ”€â–º 5. Create block
        â”‚      Block {
        â”‚        height: 1
        â”‚        transactions: [] (empty)
        â”‚        reward: 50 TT
        â”‚      }
        â”‚
        â”œâ”€â–º 6. Broadcast (no peers yet)
        â”‚
        â””â”€â–º 7. Apply reward
            â€¢ Alice balance: 0 â†’ 50 TT âœ…
            â€¢ Alice trust: 0.5 â†’ 0.525 â¬†ï¸


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ FAZA 4: BOB DOÅÄ„CZA (2 validatory w sieci)                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    BOB NODE                  ALICE NODE
       â”‚                          â”‚
       â”œâ”€â”€â”€â”€ PoÅ‚Ä…czenie â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
       â”‚                          â”‚
       â—„â”€â”€â”€â”€ Blockchain (1-60) â”€â”€â”€â”¤
       â”‚                          â”‚
       â”œâ”€â”€â”€â”€ Sync complete â”€â”€â”€â”€â”€â”€â”€â”¤
       â”‚                          â”‚
       
    Nowe wagi:
      Alice: (2/3)Ã—0.821 + (1/3)Ã—0.4 = 0.680  (28% szans)
      Bob:   (2/3)Ã—0.500 + (1/3)Ã—0.6 = 0.533  (22% szans)
      
    Alice wygrywa czÄ™Å›ciej bo ma wyÅ¼szy TRUST! âœ…


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ FAZA 5: ALICE WYSYÅA 100 TT DO CAROL                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ALICE                         BLOCKCHAIN                      CAROL
  â”‚                                                              â”‚
  â”œâ”€â–º 1. Create TX                                              â”‚
  â”‚      Input: 3,050 TT UTXO                                   â”‚
  â”‚      Output 1: 100 TT â†’ Carol (STEALTH)                     â”‚
  â”‚      Output 2: 2,949 TT â†’ Alice (reszta)                    â”‚
  â”‚      Fee: 1 TT                                              â”‚
  â”‚                                                              â”‚
  â”œâ”€â–º 2. Stealth address                                        â”‚
  â”‚      r = random()                                           â”‚
  â”‚      stealth = P_carol + Hash(r Ã— G)                        â”‚
  â”‚      hint = r Ã— G                                           â”‚
  â”‚      bloom_tag = Hash16(r Ã— P_carol) = 0x3A7F               â”‚
  â”‚                                                              â”‚
  â”œâ”€â–º 3. Bulletproofs (50ms)                                    â”‚
  â”‚      Proof1: 100 âˆˆ [0, 2^64) â†’ 672 bytes                    â”‚
  â”‚      Proof2: 2949 âˆˆ [0, 2^64) â†’ 672 bytes                   â”‚
  â”‚                                                              â”‚
  â”œâ”€â–º 4. Sign (Falcon512)                                       â”‚
  â”‚      sig = Falcon512.sign(tx_hash, alice_sk)                â”‚
  â”‚                                                              â”‚
  â”œâ”€â–º 5. Broadcast â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                             â”‚
  â”‚                               â”‚                             â”‚
  â”‚                      [MEMPOOL: 1 TX]                        â”‚
  â”‚                               â”‚                             â”‚
  â”‚                         â° Slot 185                          â”‚
  â”‚                               â”‚                             â”‚
  â”‚                      BOB WYGRYWA! âœ…                         â”‚
  â”‚                               â”‚                             â”‚
  â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
  â”‚                    â”‚   BLOCK #186        â”‚                  â”‚
  â”‚                    â”‚   â€¢ TX: 0x4e7f...   â”‚                  â”‚
  â”‚                    â”‚   â€¢ Fee: 1 TT       â”‚                  â”‚
  â”‚                    â”‚   â€¢ Reward: 50 TT   â”‚                  â”‚
  â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
  â”‚                               â”‚                             â”‚
  â—„â”€â”€â”€â”€â”€â”€â”€ Confirmation â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                             â”‚
  â”‚                               â”‚                             â”‚
  TX confirmed! âœ…                â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º â”‚
                                  â”‚      â”‚ 6. Keysearch scan   â”‚
                                  â”‚      â”‚                     â”‚
                                  â””â”€â”€â”€â”€â”€â”€â”¤ Bloom: 0x3A7F match!â”‚
                                         â”‚                     â”‚
                                         â”‚ Decrypt: 100 TT âœ…  â”‚
                                         â”‚                     â”‚
                                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º
                                              Carol ma 100 TT!


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ TIMELINE CAÅEGO PROCESU                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

T=0s      Alice tworzy TX
          â””â”€â–º Stealth address generation
          â””â”€â–º Bulletproofs (50ms)
          â””â”€â–º Falcon512 sign (5ms)

T=0.5s    Broadcast do mempool

T=1s      Bob otrzymuje TX
          â””â”€â–º Verify Bulletproofs (12ms) âœ…
          â””â”€â–º Add to mempool

T=5s      Slot 185 tick
          â””â”€â–º Bob sprawdza eligibility
          â””â”€â–º Bob WYGRYWA âœ…

T=5.5s    Bob tworzy blok #186
          â””â”€â–º Include TX z mempool
          â””â”€â–º Sign block

T=6s      Broadcast bloku

T=6.5s    Alice widzi confirmation âœ…

T=7s      Carol skanuje blockchain
          â””â”€â–º Bloom filter: 1000 TX w 0.1s
          â””â”€â–º Match znaleziony: 0x3A7F
          â””â”€â–º Decrypt: 100 TT âœ…


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ EKONOMIA                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ALICE (przed):
  Saldo: 3,050 TT
  Stake: 10,000,000 TT
  Trust: 0.821

TRANSAKCJA:
  WysÅ‚ane: 100 TT
  Fee: 1 TT
  Reszta: 2,949 TT

ALICE (po):
  Saldo: 2,949 TT (-101 TT)
  Trust: 0.821 (bez zmian, nie byÅ‚a minerem tego bloku)

BOB (miner bloku):
  Reward: 50 TT
  Fee: 1 TT
  Total: +51 TT âœ…
  Trust: 0.475 â†’ 0.501 â¬†ï¸

CAROL (odbiorca):
  Saldo: 0 â†’ 100 TT âœ…


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PRYWATNOÅšÄ† - CO WIDAÄ† NA BLOCKCHAINIE                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

OBSERWATOR WIDZI:
  âœ… Blok #186 istnieje
  âœ… Transakcja 0x4e7f... istnieje
  âœ… 2 outputy (commitments)
  âœ… Bulletproofs valid
  âœ… Fee zapÅ‚acone: 1 TT
  âœ… Podpis Falcon512 valid
  
  âŒ NIE WIDZI kto wysÅ‚aÅ‚
  âŒ NIE WIDZI kto dostaÅ‚
  âŒ NIE WIDZI ile (commitments sÄ… ukryte)
  âŒ NIE WIDZI czy to 2 osoby czy 1

TYLKO ALICE WIE:
  â€¢ WysÅ‚aÅ‚am 100 TT do Carol
  â€¢ Mam 2,949 TT reszty

TYLKO CAROL WIE:
  â€¢ DostaÅ‚am 100 TT
  â€¢ Od kogoÅ› (nie zna Alice!)


â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                         KEY INSIGHTS                                  â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. TWÃ“J MODEL WAGI (2/3 trust + 1/3 stake):
   Alice wygrywa czÄ™Å›ciej mimo mniejszego stake, bo ma wyÅ¼szy trust!
   
2. STEALTH ADDRESSES:
   KaÅ¼da transakcja to nowy, jednorazowy adres - nikt nie moÅ¼e poÅ‚Ä…czyÄ‡

3. BULLETPROOFS:
   Kwoty sÄ… CAÅKOWICIE ukryte, weryfikator widzi tylko "valid"

4. BLOOM FILTERS:
   Skanowanie 1000 TX zajmuje 0.1s zamiast 10s (100x szybciej!)

5. FEES:
   ~1 TT za typowÄ… transakcjÄ™ (2 outputy)
   Miner dostaje fee + reward (50 TT)

6. POTWIERDZENIA:
   1 blok = 5 sekund
   6 blokÃ³w = 30 sekund (bezpieczne)

